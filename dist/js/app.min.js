var app=angular.module("sample");angular.module("sample").controller("firstController","BenchAPIService"[function(a){function e(a){a.data.response;$scope.benchPieChartData=t($scope.benchList)}function t(a){for(var e=[],e=[{label:"Java",count:0},{label:".Net",count:0},{label:"QA",count:0},{label:"Other",count:0}],t=0;t<a.length;t++)a[t].skillName==skillObj[0]?e[0].count=e[0].count+1:a[t].skillName==skillObj[1]?e[1].count=e[1].count+1:a[t].skillName==skillObj[2]?e[2].count=e[2].count+1:e[3].count=e[3].count+1;return e}!function(){$scope.loading=!0,a.getBenchEmployees(authenticationRequired).then(e,failureHandler).finally(finallyHandler)}()}]);var app=angular.module("sample",[]);angular.module("sample").directive("chart",["chartsService",function(a){function e(e,t,r){var l=this;if(l.max=0,console.log(e),"pie"!=e.chartType)var n={id:e.id,datasetLabel:e.datasetLabel,datalabels:!0,maintainAspectRatio:!1,zoom:{enabled:!1,mode:"xy"},pan:{enabled:!1,mode:"xy"},chart:{height:300,type:e.chartType},responsive:!0,legend:{display:e.legendDisplay,position:"bottom"},title:{display:!1,text:"Chart.js Bar Chart"},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:e.hScaleLabel,fontColor:"#000",fontSize:16}}],yAxes:[{display:!0,ticks:{beginAtZero:!e.yScaleMin,min:e.yScaleMin,max:e.yScaleMax,callback:function(a,t,r){return l.max<a&&(l.max=a),a+e.yScaleSuffix}},scaleLabel:{display:!0,labelString:e.yScaleLabel,fontColor:"#000",fontSize:16}}]},showTooltips:!1,tooltipTemplate:"<%= value %>",tooltips:{callbacks:{title:function(a,e){return a[0].xLabel+" : "+a[0].yLabel},label:function(a,e){e.datasets[a.datasetIndex].label;return""}}}};else if(e.chartType="pie")var n={id:e.id,datasetLabel:e.datasetLabel,chartData:e.chartData,datalabels:!0,maintainAspectRatio:!1,zoom:{enabled:!1,mode:"xy"},pan:{enabled:!1,mode:"xy"},chart:{height:300,type:e.chartType},responsive:!0,legend:{display:e.legendDisplay,position:"bottom"},title:{display:!1,text:"Chart.js Pie Chart"},showTooltips:!0,tooltipTemplate:"<%= value %>"};"profitability"===t.context.id&&(n.tooltips={callbacks:{label:function(a,e){return"Click for more details"}}}),e.$watchCollection("chartData",function(t,o){if(t){var i=a.generateChartData(e.chartData,e.hAxisProp,e.yAxisProp,JSON.parse(e.dateType),n),c=i.datasets,s=[];for(var u in c)s=s.concat(c[u].data);l.max=s[0];for(var p in s)l.max<s[p]&&(l.max=s[p]);var b=a.drawChart(r.id,i,n);if(b&&"Profitability GM YTD"===b.options.datasetLabel){var h=b.chart.ctx;h.canvas.onclick=function(a){var t=b.getElementsAtEvent(a);console.log(t),e.$emit("datapointClick",t)}}if(b&&"BenchSkillBarChart"===b.options.datasetLabel){var h=b.chart.ctx;h.canvas.onclick=function(a){var t=b.getElementsAtEvent(a);e.$emit("benchBarChartClick",t)}}if(b&&"BenchSkillPieChart"===b.options.datasetLabel){var h=b.chart.ctx;h.canvas.onclick=function(a){var t=b.getElementsAtEvent(a);e.$emit("benchPieChartClick",t)}}if(b&&"PracticeInputBarChart"===b.options.datasetLabel){var h=b.chart.ctx;h.canvas.onclick=function(a){var t=b.getElementsAtEvent(a);e.$emit("practiceBarChartClick",t)}}console.log(b)}})}function t(){}return{restrict:"E",template:"<canvas></canvas>",replace:!0,link:e,controller:t,scope:{id:"=",chartData:"=?",chartType:"=?",hAxisProp:"=?",yAxisProp:"=?",dateType:"=?",datasetLabel:"=?",legendDisplay:"@",yScaleSuffix:"@",hScaleLabel:"@",yScaleLabel:"@",yScaleMin:"@",yScaleMax:"@"}}}]),function(){"use strict";angular.module("sample",[]);angular.module("sample").directive("firstOne",function(){return{restrict:"EA",bindToController:!0,controller:"firstController",controllerAs:"first",replace:!0,templateUrl:"index.html"}})}();var app=angular.module("sample");angular.module("sample").factory("BenchAPIService",["$http","ENV",function(a,e){var t={};return t.getBenchEmployees=function(){a.get("json/data.json").success(function(a){$scope.phones=a})},t}]),function(){angular.module("sample",[]);angular.module("sample").service("chartsService",["$http","$rootScope","$window",function(a,e,t){function r(a){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]+" "+a.getFullYear()}var l=["rgba(0, 234, 221, 0.5)","rgba(232, 140, 209, 0.5)","rgba(174, 140, 232, 0.5)","rgba(0, 169, 19, 0.5)","rgba(137, 204, 0, 0.5)","rgba(204, 176, 0, 0.5)","rgba(206, 105, 23, 0.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(136, 255, 0, 0.5)","rgba(142, 48, 160, 0.5)","rgba(0, 222, 220, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(0, 234, 221, 0.5)","rgba(153, 102, 255, 0.5)","rgba(139, 126, 255, 0.5)","rgba(142, 48, 160, 0.5)","rgba(191, 6, 6, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 206, 86, 0.5)","rgba(65, 196, 255, 0.5)","rgba(137, 204, 0, 0.5)","rgba(0, 169, 19, 0.5)","rgba(255, 159, 64, 0.5)","rgba(142, 48, 160, 0.5)","rgba(255, 206, 86, 0.5)","rgba(0, 222, 220, 0.5)","rgba(137, 204, 0, 0.5)","rgba(174, 140, 232, 0.5)","rgba(0, 169, 19, 0.5)","rgba(137, 204, 0, 0.5)"],n=this;n.charts=[],n.drawChart=function(a,e,t){var r=t.chart&&t.chart.height||300,l=t.chart&&t.chart.width||400,o=t.chart&&t.chart.type||"bar",i=document.getElementById(a).getContext("2d");i.canvas.height=r,i.canvas.width=l;var c=new Chart(i,{type:o,data:e,options:t});return n.charts.push(c),c},n.generateChartData=function(a,e,t,n,o){var i=n||!1,c=o.datasetLabel||"x-axis",s=[],u=[];if(a.constructor!==Array){var p=Object.keys(a);for(var b in p){var h=a[p[b]].data,d=a[p[b]].backgroundColor,g=a[p[b]].fill,v=a[p[b]].lineColor,c=a[p[b]].label,f=[];for(var m in h){var y=h[m][e];y=1==i?r(new Date(y)):y;var x=h[m][t];u.push(y),f.push(x)}var C={label:c,data:f,backgroundColor:d,fill:g,borderColor:v};s.push(C)}}else{var f=[],k=[];for(var b in a){var y=a[b][e];y=1==i?r(new Date(y)):y;var x=a[b][t];a[b].backgroundColor&&k.push(a[b].backgroundColor),null!==y&&u.push(y),f.push(x)}var C={label:c,data:f,backgroundColor:k.length>0?k:l};s.push(C)}var S=u;return{labels:$.unique(S),datasets:s}}}])}();