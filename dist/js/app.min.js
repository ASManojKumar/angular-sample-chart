var app=angular.module("sample",[]);angular.module("sample").controller("firstController",["$scope","createChartService",function(a,t){function e(a){var t={},e=[],r=[],n=[];for(var i in a){var l=a[i].utilizationDate,o=a[i],c=0,s=0,u=0;"india"==o.utilizationLocation.toLowerCase()?(c=o.utilizationValue,r.push({date:l,utilization:c})):"us"==o.utilizationLocation.toLowerCase()?(s=o.utilizationValue,e.push({date:l,utilization:s})):"overall"==o.utilizationLocation.toLowerCase()&&(u=o.utilizationValue,n.push({date:l,utilization:u}))}return t.India={label:"India",data:r,lineColor:"rgb(253, 154, 55)",fill:!1},t.US={label:"US",data:e,lineColor:"rgb(90, 172, 239)",fill:!1},t.Overall={label:"Overall",data:n,lineColor:"gray",fill:!1},t}function r(t){var r=t.data.response;r.successObject&&(a.utilizationChartData=e(r.successObject))}function n(t){var e=t.data.response;if(e.successObject){var r=[];for(var n in e.successObject)r.push(e.successObject[n]);a.peopleList=r,a.benchPieChartData=i(a.peopleList);var l=0,o=0;for(var n in r)"Bangalore"==r[n].location||"Noida"==r[n].location?l++:"US"!=r[n].location&&"Santa Clara"!=r[n].location||o++}}function i(a){for(var t=[],t=[{label:"Kannada",count:0},{label:"Tamil",count:0},{label:"Telugu",count:0},{label:"Others",count:0}],e=0;e<a.length;e++)a[e].stateName==s[0]?t[0].count=t[0].count+1:a[e].stateName==s[1]?t[1].count=t[1].count+1:a[e].stateName==s[2]?t[2].count=t[2].count+1:t[3].count=t[3].count+1;return t}function l(a){console.error("ERROR: Failed in XHR : "+a)}function o(){a.loading=!1}var c=this;c.firstChart="Sample Line Chart",c.secondChart="Sample Pie Chart";var s={0:"Kannada",1:"Tamil",2:"Telugu",3:"Others"};!function(){a.loading=!0,t.getChartData().then(r,l).finally(o)}(),function(){a.loading=!0,t.getPieChartData().then(n,l).finally(o)}(),a.chartOptions=[{id:1,name:"Option 1"},{id:2,name:"Option 2"}],a.updateLineChart=function(a){a&&1==a.id?t.getChartData().then(r,l).finally(o):t.getChartDataOption2().then(r,l).finally(o)},a.updatePieChart=function(a){a&&1==a.id?t.getPieChartData().then(n,l).finally(o):t.getPieChartDataOption2().then(n,l).finally(o)}}]);var app=angular.module("sample");angular.module("sample").directive("chart",["chartsService",function(a){function t(t,e,r){var n=this;if(n.max=0,console.log(t),"pie"!=t.chartType)var i={id:t.id,datasetLabel:t.datasetLabel,datalabels:!0,maintainAspectRatio:!1,zoom:{enabled:!1,mode:"xy"},pan:{enabled:!1,mode:"xy"},chart:{height:300,type:t.chartType},responsive:!0,legend:{display:t.legendDisplay,position:"bottom"},title:{display:!1,text:"Chart.js Bar Chart"},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:t.hScaleLabel,fontColor:"#000",fontSize:16}}],yAxes:[{display:!0,ticks:{beginAtZero:!t.yScaleMin,min:t.yScaleMin,max:t.yScaleMax,callback:function(a,e,r){return n.max<a&&(n.max=a),a+t.yScaleSuffix}},scaleLabel:{display:!0,labelString:t.yScaleLabel,fontColor:"#000",fontSize:16}}]},showTooltips:!1,tooltipTemplate:"<%= value %>",tooltips:{callbacks:{title:function(a,t){return a[0].xLabel+" : "+a[0].yLabel},label:function(a,t){t.datasets[a.datasetIndex].label;return""}}}};else if(t.chartType="pie")var i={id:t.id,datasetLabel:t.datasetLabel,chartData:t.chartData,datalabels:!0,maintainAspectRatio:!1,zoom:{enabled:!1,mode:"xy"},pan:{enabled:!1,mode:"xy"},chart:{height:300,type:t.chartType},responsive:!0,legend:{display:t.legendDisplay,position:"bottom"},title:{display:!1,text:"Chart.js Pie Chart"},showTooltips:!0,tooltipTemplate:"<%= value %>"};t.$watchCollection("chartData",function(e,l){if(e){var o=a.generateChartData(t.chartData,t.hAxisProp,t.yAxisProp,JSON.parse(t.dateType),i),c=o.datasets,s=[];for(var u in c)s=s.concat(c[u].data);n.max=s[0];for(var h in s)n.max<s[h]&&(n.max=s[h]);var d=a.drawChart(r.id,o,i);if(d&&"Profitability GM YTD"===d.options.datasetLabel){var p=d.chart.ctx;p.canvas.onclick=function(a){var e=d.getElementsAtEvent(a);console.log(e),t.$emit("datapointClick",e)}}if(d&&"BenchSkillBarChart"===d.options.datasetLabel){var p=d.chart.ctx;p.canvas.onclick=function(a){var e=d.getElementsAtEvent(a);t.$emit("benchBarChartClick",e)}}if(d&&"BenchSkillPieChart"===d.options.datasetLabel){var p=d.chart.ctx;p.canvas.onclick=function(a){var e=d.getElementsAtEvent(a);t.$emit("benchPieChartClick",e)}}if(d&&"PracticeInputBarChart"===d.options.datasetLabel){var p=d.chart.ctx;p.canvas.onclick=function(a){var e=d.getElementsAtEvent(a);t.$emit("practiceBarChartClick",e)}}console.log(d)}})}function e(){}return{restrict:"E",template:"<canvas></canvas>",replace:!0,link:t,controller:e,scope:{id:"=",chartData:"=?",chartType:"=?",hAxisProp:"=?",yAxisProp:"=?",dateType:"=?",datasetLabel:"=?",legendDisplay:"@",yScaleSuffix:"@",hScaleLabel:"@",yScaleLabel:"@",yScaleMin:"@",yScaleMax:"@"}}}]),function(){"use strict";angular.module("sample");angular.module("sample").directive("firstOne",function(){return{restrict:"EA",bindToController:!0,controller:"firstController",controllerAs:"first",replace:!0,templateUrl:"index.html"}})}(),function(){angular.module("sample").service("chartsService",["$http","$rootScope","$window",function(a,t,e){function r(a){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]+" "+a.getFullYear()}var n=["rgba(0, 234, 221, 0.5)","rgba(232, 140, 209, 0.5)","rgba(174, 140, 232, 0.5)","rgba(0, 169, 19, 0.5)","rgba(137, 204, 0, 0.5)","rgba(204, 176, 0, 0.5)","rgba(206, 105, 23, 0.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(136, 255, 0, 0.5)","rgba(142, 48, 160, 0.5)","rgba(0, 222, 220, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(0, 234, 221, 0.5)","rgba(153, 102, 255, 0.5)","rgba(139, 126, 255, 0.5)","rgba(142, 48, 160, 0.5)","rgba(191, 6, 6, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 206, 86, 0.5)","rgba(65, 196, 255, 0.5)","rgba(137, 204, 0, 0.5)","rgba(0, 169, 19, 0.5)","rgba(255, 159, 64, 0.5)","rgba(142, 48, 160, 0.5)","rgba(255, 206, 86, 0.5)","rgba(0, 222, 220, 0.5)","rgba(137, 204, 0, 0.5)","rgba(174, 140, 232, 0.5)","rgba(0, 169, 19, 0.5)","rgba(137, 204, 0, 0.5)"],i=this;i.charts=[],i.drawChart=function(a,t,e){var r=e.chart&&e.chart.height||300,n=e.chart&&e.chart.width||400,l=e.chart&&e.chart.type||"bar",o=document.getElementById(a).getContext("2d");o.canvas.height=r,o.canvas.width=n;var c=new Chart(o,{type:l,data:t,options:e});return i.charts.push(c),c},i.generateChartData=function(a,t,e,i,l){var o=i||!1,c=l.datasetLabel||"x-axis",s=[],u=[];if(a.constructor!==Array){var h=Object.keys(a);for(var d in h){var p=a[h[d]].data,b=a[h[d]].backgroundColor,g=a[h[d]].fill,f=a[h[d]].lineColor,c=a[h[d]].label,v=[];for(var C in p){var m=p[C][t];m=1==o?r(new Date(m)):m;var y=p[C][e];u.push(m),v.push(y)}var x={label:c,data:v,backgroundColor:b,fill:g,borderColor:f};s.push(x)}}else{var v=[],S=[];for(var d in a){var m=a[d][t];m=1==o?r(new Date(m)):m;var y=a[d][e];a[d].backgroundColor&&S.push(a[d].backgroundColor),null!==m&&u.push(m),v.push(y)}var x={label:c,data:v,backgroundColor:S.length>0?S:n};s.push(x)}var L=u;return{labels:$.unique(L),datasets:s}}}])}(),angular.module("sample").factory("createChartService",["$http",function(a){var t={};return t.getChartData=function(){return a.get("json/data.json")},t.getChartDataOption2=function(){return a.get("json/dataOption2.json")},t.getPieChartData=function(){return a.get("json/dataForPie.json")},t.getPieChartDataOption2=function(){return a.get("json/dataForPieOption2.json")},t}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXJzL2NoYXJ0LmNvbnRyb2xsZXIuanMiLCJkaXJlY3RpdmVzL2NoYXJ0LmpzIiwiZGlyZWN0aXZlcy9zYW1wbGUuanMiLCJzZXJ2aWNlcy9jaGFydC5zZXJ2aWNlLmpzIiwic2VydmljZXMvY2hhcnRTZXJ2aWNlLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJjcmVhdGVDaGFydFNlcnZpY2UiLCJnZW5lcmF0ZVV0aWxpemF0aW9uQ2hhcnREYXRhIiwidXRpbGl6YXRpb25zIiwidXRpbGl6YXRpb25DaGFydERhdGEiLCJ1dGlsaXphdGlvblVTIiwidXRpbGl6YXRpb25JbmRpYSIsInV0aWxpemF0aW9uT3ZlcmFsbCIsImkiLCJkYXRlIiwidXRpbGl6YXRpb25EYXRlIiwidXRpbGl6YXRpb24iLCJ1dElOIiwidXRVUyIsInV0QUxMIiwidXRpbGl6YXRpb25Mb2NhdGlvbiIsInRvTG93ZXJDYXNlIiwidXRpbGl6YXRpb25WYWx1ZSIsInB1c2giLCJJbmRpYSIsImxhYmVsIiwiZGF0YSIsImxpbmVDb2xvciIsImZpbGwiLCJVUyIsIk92ZXJhbGwiLCJ1dGlsaXphdGlvbkxpc3RTdWNjZXNzSGFuZGxlciIsInJlc3BvbnNlIiwicmVzdWx0Iiwic3VjY2Vzc09iamVjdCIsImdldEJlbmNoRW1wbG95ZWVzU3VjY2Vzc0hhbmRsZXIiLCJwZW9wbGVMaXN0IiwiYmVuY2hQaWVDaGFydERhdGEiLCJnZW5lcmF0ZUJlbmNoUGllQ2hhcnQiLCJpbmRpYUNvdW50IiwidXNDb3VudCIsImxvY2F0aW9uIiwicGllQ2hhcnREYXRhIiwiY291bnQiLCJsZW5ndGgiLCJzdGF0ZU5hbWUiLCJzdGF0ZU9iaiIsImZhaWx1cmVIYW5kbGVyIiwiZXJyb3IiLCJjb25zb2xlIiwiZmluYWxseUhhbmRsZXIiLCJsb2FkaW5nIiwic2VsZiIsInRoaXMiLCJmaXJzdENoYXJ0Iiwic2Vjb25kQ2hhcnQiLCIwIiwiMSIsIjIiLCIzIiwiZ2V0Q2hhcnREYXRhIiwidGhlbiIsImZpbmFsbHkiLCJnZXRQaWVDaGFydERhdGEiLCJjaGFydE9wdGlvbnMiLCJpZCIsIm5hbWUiLCJ1cGRhdGVMaW5lQ2hhcnQiLCJjaGFydCIsImdldENoYXJ0RGF0YU9wdGlvbjIiLCJ1cGRhdGVQaWVDaGFydCIsImdldFBpZUNoYXJ0RGF0YU9wdGlvbjIiLCJkaXJlY3RpdmUiLCJjaGFydHNTZXJ2aWNlIiwiY2hhcnRMaW5rZXIiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsIm1heCIsImxvZyIsImNoYXJ0VHlwZSIsImRhdGFzZXRMYWJlbCIsImRhdGFsYWJlbHMiLCJtYWludGFpbkFzcGVjdFJhdGlvIiwiem9vbSIsImVuYWJsZWQiLCJtb2RlIiwicGFuIiwiaGVpZ2h0IiwidHlwZSIsInJlc3BvbnNpdmUiLCJsZWdlbmQiLCJkaXNwbGF5IiwibGVnZW5kRGlzcGxheSIsInBvc2l0aW9uIiwidGl0bGUiLCJ0ZXh0Iiwic2NhbGVzIiwieEF4ZXMiLCJzY2FsZUxhYmVsIiwibGFiZWxTdHJpbmciLCJoU2NhbGVMYWJlbCIsImZvbnRDb2xvciIsImZvbnRTaXplIiwieUF4ZXMiLCJ0aWNrcyIsImJlZ2luQXRaZXJvIiwieVNjYWxlTWluIiwibWluIiwieVNjYWxlTWF4IiwiY2FsbGJhY2siLCJpbmRleCIsImxhYmVscyIsInlTY2FsZVN1ZmZpeCIsInlTY2FsZUxhYmVsIiwic2hvd1Rvb2x0aXBzIiwidG9vbHRpcFRlbXBsYXRlIiwidG9vbHRpcHMiLCJjYWxsYmFja3MiLCJ0b29sdGlwSXRlbSIsInhMYWJlbCIsInlMYWJlbCIsImRhdGFzZXRzIiwiZGF0YXNldEluZGV4IiwiY2hhcnREYXRhIiwiJHdhdGNoQ29sbGVjdGlvbiIsIm5ld1ZhbCIsIm9sZFZhbCIsImdlbmVyYXRlQ2hhcnREYXRhIiwiaEF4aXNQcm9wIiwieUF4aXNQcm9wIiwiSlNPTiIsInBhcnNlIiwiZGF0ZVR5cGUiLCJjb25jYXQiLCJqIiwiZHJhd0NoYXJ0Iiwib3B0aW9ucyIsImN0eCIsImNhbnZhcyIsIm9uY2xpY2siLCJldnQiLCJhY3RpdmVQb2ludHMiLCJnZXRFbGVtZW50c0F0RXZlbnQiLCIkZW1pdCIsImNoYXJ0Q29udHJvbGxlciIsInJlc3RyaWN0IiwidGVtcGxhdGUiLCJyZXBsYWNlIiwibGluayIsImJpbmRUb0NvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsInNlcnZpY2UiLCIkaHR0cCIsIiRyb290U2NvcGUiLCIkd2luZG93IiwiZGF0ZVRvTW9udGgiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiQ09MT1JTIiwidm0iLCJjaGFydHMiLCJkaXZJZCIsImNhbnZhc0hlaWdodCIsImNhbnZhc1dpZHRoIiwid2lkdGgiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIkNoYXJ0IiwicmF3RGF0YSIsInhBeGlzUHJvcCIsImlzRGF0ZXR5cGUiLCJjb25zdHJ1Y3RvciIsIkFycmF5IiwiZGF0YXNldE5hbWVzIiwiT2JqZWN0Iiwia2V5cyIsInJhd0RhdGFzZXQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJEYXRlIiwiZGF0YXNldCIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9ycyIsInRydW5jYXRlZExhYmVscyIsIiQiLCJ1bmlxdWUiLCJmYWN0b3J5IiwiZ2V0Il0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxLQUFBQyxRQUFBQyxPQUFBLFlBRUFELFNBQUFDLE9BQUEsVUFBQUMsV0FBQSxtQkFBQSxTQUFBLHFCQUNBLFNBQUFDLEVBQUFDLEdBU0EsUUFBQUMsR0FBQUMsR0FFQSxHQUFBQyxNQUNBQyxLQUNBQyxLQUNBQyxJQUVBLEtBQUEsR0FBQUMsS0FBQUwsR0FBQSxDQUNBLEdBQUFNLEdBQUFOLEVBQUFLLEdBQUFFLGdCQUNBQyxFQUFBUixFQUFBSyxHQUNBSSxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsRUFBQSxDQUNBLFVBQUFILEVBQUFJLG9CQUFBQyxlQUNBSixFQUFBRCxFQUFB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QUE5SixHQUFBdUssaUJBRUEsT0FBQTNKLEdBQ0F1RixFQUFBekYsS0FBQUUsR0FFQUMsRUFBQUgsS0FBQVAsR0FHQSxHQUFBc0ssSUFDQTdKLE1BQUF3RCxFQUNBdkQsS0FBQUEsRUFFQTBKLGdCQUFBSSxFQUFBNUksT0FBQSxFQUFBNEksRUFBQXhCLEVBRUF0QyxHQUFBbkcsS0FBQStKLEdBbUJBLEdBQUFHLEdBQUF6RSxDQWtCQSxRQUpBQSxPQUFBMEUsRUFBQUMsT0FBQUYsR0FDQS9ELFNBQUFBLFVDL05BeEgsUUFBQUMsT0FBQSxVQUNBeUwsUUFBQSxzQkFBQSxRQUFBLFNBQUFsQyxHQUVBLEdBQUE5QixLQWFBLE9BWkFBLEdBQUFoRSxhQUFBLFdBQ0EsTUFBQThGLEdBQUFtQyxJQUFBLG1CQUVBakUsRUFBQXZELG9CQUFBLFdBQ0EsTUFBQXFGLEdBQUFtQyxJQUFBLDBCQUVBakUsRUFBQTdELGdCQUFBLFdBQ0EsTUFBQTJGLEdBQUFtQyxJQUFBLHlCQUVBakUsRUFBQXJELHVCQUFBLFdBQ0EsTUFBQW1GLEdBQUFtQyxJQUFBLGdDQUVBakUiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnc2FtcGxlJywgW10pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3NhbXBsZScpLmNvbnRyb2xsZXIoJ2ZpcnN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ2NyZWF0ZUNoYXJ0U2VydmljZScsXHJcbiAgICBmdW5jdGlvbigkc2NvcGUsIGNyZWF0ZUNoYXJ0U2VydmljZSkge1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuZmlyc3RDaGFydCA9IFwiU2FtcGxlIExpbmUgQ2hhcnRcIjtcclxuICAgICAgICBzZWxmLnNlY29uZENoYXJ0ID0gXCJTYW1wbGUgUGllIENoYXJ0XCI7XHJcblxyXG4gICAgICAgIHZhciBzdGF0ZU9iaiA9IHsgMDogXCJLYW5uYWRhXCIsIDE6IFwiVGFtaWxcIiwgMjogXCJUZWx1Z3VcIiwgMzogXCJPdGhlcnNcIiB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVV0aWxpemF0aW9uQ2hhcnREYXRhKHV0aWxpemF0aW9ucykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHV0aWxpemF0aW9uQ2hhcnREYXRhID0ge307XHJcbiAgICAgICAgICAgIHZhciB1dGlsaXphdGlvblVTID0gW107XHJcbiAgICAgICAgICAgIHZhciB1dGlsaXphdGlvbkluZGlhID0gW107XHJcbiAgICAgICAgICAgIHZhciB1dGlsaXphdGlvbk92ZXJhbGwgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdXRpbGl6YXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IHV0aWxpemF0aW9uc1tpXS51dGlsaXphdGlvbkRhdGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXRpbGl6YXRpb24gPSB1dGlsaXphdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgdXRJTiA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXRVUyA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXRBTEwgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHV0aWxpemF0aW9uLnV0aWxpemF0aW9uTG9jYXRpb24udG9Mb3dlckNhc2UoKSA9PSAnaW5kaWEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRJTiA9IHV0aWxpemF0aW9uLnV0aWxpemF0aW9uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl6YXRpb25JbmRpYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl6YXRpb246IHV0SU5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHV0aWxpemF0aW9uLnV0aWxpemF0aW9uTG9jYXRpb24udG9Mb3dlckNhc2UoKSA9PSAndXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRVUyA9IHV0aWxpemF0aW9uLnV0aWxpemF0aW9uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl6YXRpb25VUy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl6YXRpb246IHV0VVNcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHV0aWxpemF0aW9uLnV0aWxpemF0aW9uTG9jYXRpb24udG9Mb3dlckNhc2UoKSA9PSAnb3ZlcmFsbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dEFMTCA9IHV0aWxpemF0aW9uLnV0aWxpemF0aW9uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl6YXRpb25PdmVyYWxsLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBkYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXphdGlvbjogdXRBTExcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHV0aWxpemF0aW9uQ2hhcnREYXRhLkluZGlhID0ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbmRpYScsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB1dGlsaXphdGlvbkluZGlhLFxyXG4gICAgICAgICAgICAgICAgbGluZUNvbG9yOiAncmdiKDI1MywgMTU0LCA1NSknLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHV0aWxpemF0aW9uQ2hhcnREYXRhLlVTID0ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdVUycsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB1dGlsaXphdGlvblVTLFxyXG4gICAgICAgICAgICAgICAgbGluZUNvbG9yOiAncmdiKDkwLCAxNzIsIDIzOSknLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHV0aWxpemF0aW9uQ2hhcnREYXRhLk92ZXJhbGwgPSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ092ZXJhbGwnLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogdXRpbGl6YXRpb25PdmVyYWxsLFxyXG4gICAgICAgICAgICAgICAgbGluZUNvbG9yOiAnZ3JheScsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHV0aWxpemF0aW9uQ2hhcnREYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXRpbGl6YXRpb25MaXN0U3VjY2Vzc0hhbmRsZXIocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2U7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzc09iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnV0aWxpemF0aW9uQ2hhcnREYXRhID0gZ2VuZXJhdGVVdGlsaXphdGlvbkNoYXJ0RGF0YShyZXN1bHQuc3VjY2Vzc09iamVjdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEFsbFV0aWx6YXRpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3JlYXRlQ2hhcnRTZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICAuZ2V0Q2hhcnREYXRhKClcclxuICAgICAgICAgICAgICAgIC50aGVuKHV0aWxpemF0aW9uTGlzdFN1Y2Nlc3NIYW5kbGVyLCBmYWlsdXJlSGFuZGxlcilcclxuICAgICAgICAgICAgICAgIC5maW5hbGx5KGZpbmFsbHlIYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldEFsbFV0aWx6YXRpb24oKTtcclxuXHJcbiAgICAgICAgZ2V0UGllQ2hhcnQoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UGllQ2hhcnQoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3JlYXRlQ2hhcnRTZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICAuZ2V0UGllQ2hhcnREYXRhKClcclxuICAgICAgICAgICAgICAgIC50aGVuKGdldEJlbmNoRW1wbG95ZWVzU3VjY2Vzc0hhbmRsZXIsIGZhaWx1cmVIYW5kbGVyKVxyXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoZmluYWxseUhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QmVuY2hFbXBsb3llZXNTdWNjZXNzSGFuZGxlcihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGVvcGxlTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZXN1bHQuc3VjY2Vzc09iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlb3BsZUxpc3QucHVzaChyZXN1bHQuc3VjY2Vzc09iamVjdFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGVvcGxlTGlzdCA9IHBlb3BsZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYmVuY2hQaWVDaGFydERhdGEgPSBnZW5lcmF0ZUJlbmNoUGllQ2hhcnQoJHNjb3BlLnBlb3BsZUxpc3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpbmRpYUNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciB1c0NvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gcGVvcGxlTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW9wbGVMaXN0W2ldLmxvY2F0aW9uID09ICdCYW5nYWxvcmUnIHx8IHBlb3BsZUxpc3RbaV0ubG9jYXRpb24gPT0gJ05vaWRhJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpYUNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwZW9wbGVMaXN0W2ldLmxvY2F0aW9uID09ICdVUycgfHwgcGVvcGxlTGlzdFtpXS5sb2NhdGlvbiA9PSAnU2FudGEgQ2xhcmEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBlb3BsZUNvdW50RGF0YSA9IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246ICdJbmRpYScsXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IGluZGlhQ291bnRcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ1VTJyxcclxuICAgICAgICAgICAgICAgICAgICBjb3VudDogdXNDb3VudFxyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVCZW5jaFBpZUNoYXJ0KHBlb3BsZUxpc3QpIHtcclxuICAgICAgICAgICAgZGVidWdnZXJcclxuICAgICAgICAgICAgdmFyIHBpZUNoYXJ0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgcGllQ2hhcnREYXRhID0gW3sgXCJsYWJlbFwiOiBcIkthbm5hZGFcIiwgXCJjb3VudFwiOiAwIH0sIHsgXCJsYWJlbFwiOiBcIlRhbWlsXCIsIFwiY291bnRcIjogMCB9LCB7IFwibGFiZWxcIjogXCJUZWx1Z3VcIiwgXCJjb3VudFwiOiAwIH0sIHsgXCJsYWJlbFwiOiBcIk90aGVyc1wiLCBcImNvdW50XCI6IDAgfV07XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBlb3BsZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChwZW9wbGVMaXN0W2ldLnN0YXRlTmFtZSA9PSBzdGF0ZU9ialswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZUNoYXJ0RGF0YVswXVtcImNvdW50XCJdID0gcGllQ2hhcnREYXRhWzBdW1wiY291bnRcIl0gKyAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwZW9wbGVMaXN0W2ldLnN0YXRlTmFtZSA9PSBzdGF0ZU9ialsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZUNoYXJ0RGF0YVsxXVtcImNvdW50XCJdID0gcGllQ2hhcnREYXRhWzFdW1wiY291bnRcIl0gKyAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwZW9wbGVMaXN0W2ldLnN0YXRlTmFtZSA9PSBzdGF0ZU9ialsyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZUNoYXJ0RGF0YVsyXVtcImNvdW50XCJdID0gcGllQ2hhcnREYXRhWzJdW1wiY291bnRcIl0gKyAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWVDaGFydERhdGFbM11bXCJjb3VudFwiXSA9IHBpZUNoYXJ0RGF0YVszXVtcImNvdW50XCJdICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBpZUNoYXJ0RGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5jaGFydE9wdGlvbnMgPSBbe1xyXG4gICAgICAgICAgICBpZDogMSxcclxuICAgICAgICAgICAgbmFtZTogXCJPcHRpb24gMVwiXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpZDogMixcclxuICAgICAgICAgICAgbmFtZTogXCJPcHRpb24gMlwiXHJcbiAgICAgICAgfV07XHJcblxyXG4gICAgICAgICRzY29wZS51cGRhdGVMaW5lQ2hhcnQgPSBmdW5jdGlvbihjaGFydCkge1xyXG4gICAgICAgICAgICBpZihjaGFydCAmJiBjaGFydC5pZCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVDaGFydFNlcnZpY2VcclxuICAgICAgICAgICAgICAgIC5nZXRDaGFydERhdGEoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4odXRpbGl6YXRpb25MaXN0U3VjY2Vzc0hhbmRsZXIsIGZhaWx1cmVIYW5kbGVyKVxyXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoZmluYWxseUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlQ2hhcnRTZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICAuZ2V0Q2hhcnREYXRhT3B0aW9uMigpXHJcbiAgICAgICAgICAgICAgICAudGhlbih1dGlsaXphdGlvbkxpc3RTdWNjZXNzSGFuZGxlciwgZmFpbHVyZUhhbmRsZXIpXHJcbiAgICAgICAgICAgICAgICAuZmluYWxseShmaW5hbGx5SGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS51cGRhdGVQaWVDaGFydCA9IGZ1bmN0aW9uKGNoYXJ0KSB7XHJcbiAgICAgICAgICAgIGlmKGNoYXJ0ICYmIGNoYXJ0LmlkID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUNoYXJ0U2VydmljZVxyXG4gICAgICAgICAgICAgICAgLmdldFBpZUNoYXJ0RGF0YSgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihnZXRCZW5jaEVtcGxveWVlc1N1Y2Nlc3NIYW5kbGVyLCBmYWlsdXJlSGFuZGxlcilcclxuICAgICAgICAgICAgICAgIC5maW5hbGx5KGZpbmFsbHlIYW5kbGVyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUNoYXJ0U2VydmljZVxyXG4gICAgICAgICAgICAgICAgLmdldFBpZUNoYXJ0RGF0YU9wdGlvbjIoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZ2V0QmVuY2hFbXBsb3llZXNTdWNjZXNzSGFuZGxlciwgZmFpbHVyZUhhbmRsZXIpXHJcbiAgICAgICAgICAgICAgICAuZmluYWxseShmaW5hbGx5SGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZhaWx1cmVIYW5kbGVyKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VSUk9SOiBGYWlsZWQgaW4gWEhSIDogJyArIGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbmFsbHlIYW5kbGVyKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbl0pO1xyXG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3NhbXBsZScpO1xyXG5hbmd1bGFyLm1vZHVsZSgnc2FtcGxlJylcclxuICAgIC5kaXJlY3RpdmUoJ2NoYXJ0JywgWydjaGFydHNTZXJ2aWNlJyxcclxuICAgICAgICBmdW5jdGlvbihjaGFydHNTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8Y2FudmFzPjwvY2FudmFzPicsXHJcbiAgICAgICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGluazogY2hhcnRMaW5rZXIsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBjaGFydENvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAnPScsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnREYXRhOiAnPT8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0VHlwZTogJz0/JyxcclxuICAgICAgICAgICAgICAgICAgICBoQXhpc1Byb3A6ICc9PycsXHJcbiAgICAgICAgICAgICAgICAgICAgeUF4aXNQcm9wOiAnPT8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVUeXBlOiAnPT8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFzZXRMYWJlbDogJz0/JyxcclxuICAgICAgICAgICAgICAgICAgICBsZWdlbmREaXNwbGF5OiAnQCcsXHJcbiAgICAgICAgICAgICAgICAgICAgeVNjYWxlU3VmZml4OiAnQCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaFNjYWxlTGFiZWw6ICdAJyxcclxuICAgICAgICAgICAgICAgICAgICB5U2NhbGVMYWJlbDogJ0AnLFxyXG4gICAgICAgICAgICAgICAgICAgIHlTY2FsZU1pbjogJ0AnLFxyXG4gICAgICAgICAgICAgICAgICAgIHlTY2FsZU1heDogJ0AnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hhcnRMaW5rZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZi5tYXggPSAwO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmNoYXJ0VHlwZSAhPSBcInBpZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJ0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHNjb3BlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0TGFiZWw6IHNjb3BlLmRhdGFzZXRMYWJlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWxhYmVsczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qb25DbGljazogZnVuY3Rpb24oZSwgbywgZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCdkYXRhcG9pbnRDbGljaycsIG8pO1xyXG4gICAgICAgICAgICAgICAgICB9LCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogJ3h5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6ICd4eSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogc2NvcGUuY2hhcnRUeXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qZWxlbWVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY3RhbmdsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnYmxhY2snLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclNraXBwZWQ6ICdib3R0b20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBzY29wZS5sZWdlbmREaXNwbGF5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2hhcnQuanMgQmFyIENoYXJ0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhBeGVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVMYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZzogc2NvcGUuaFNjYWxlTGFiZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogJyMwMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlBeGVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlja3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW5BdFplcm86IHNjb3BlLnlTY2FsZU1pbiA/IGZhbHNlIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBzY29wZS55U2NhbGVNaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogc2NvcGUueVNjYWxlTWF4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24obGFiZWwsIGluZGV4LCBsYWJlbHMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5tYXggPCBsYWJlbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1heCA9IGxhYmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsICsgc2NvcGUueVNjYWxlU3VmZml4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZUxhYmVsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nOiBzY29wZS55U2NhbGVMYWJlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udENvbG9yOiAnIzAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxNlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb29sdGlwczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZW1wbGF0ZTogXCI8JT0gdmFsdWUgJT5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbih0b29sdGlwSXRlbSwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gZGF0YS5kYXRhc2V0c1t0b29sdGlwSXRlbS5kYXRhc2V0SW5kZXhdLmxhYmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsICsgJzogJyArIHRvb2x0aXBJdGVtLnlMYWJlbCArICcoQ2xpY2sgaGVyZSB0byBnZXQgbW9yZSBkYXRhZmZmKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qYW5pbWF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIChvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLmNoYXJ0LmN0eDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9IENoYXJ0LmhlbHBlcnMuZm9udFN0cmluZyhDaGFydC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRGYW1pbHksICdub3JtYWwnLCBDaGFydC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRGYW1pbHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5kYXRhc2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YXNldC5kYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBkYXRhc2V0Ll9tZXRhW09iamVjdC5rZXlzKGRhdGFzZXQuX21ldGEpWzBdXS5kYXRhW2ldLl9tb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChkYXRhc2V0LmRhdGFbaV0sIG1vZGVsLngsIG1vZGVsLnkgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZnVuY3Rpb24odG9vbHRpcEl0ZW0sIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXBJdGVtWzBdLnhMYWJlbCArICcgOiAnICsgdG9vbHRpcEl0ZW1bMF0ueUxhYmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZ1bmN0aW9uKHRvb2x0aXBJdGVtLCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IGRhdGEuZGF0YXNldHNbdG9vbHRpcEl0ZW0uZGF0YXNldEluZGV4XS5sYWJlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gbGFiZWwgKyAnOiAnICsgdG9vbHRpcEl0ZW0ueUxhYmVsICsgJyhDbGljayBoZXJlIHRvIGdldCBtb3JlIGRhdGEpJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzY29wZS5jaGFydFR5cGUgPSBcInBpZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJ0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHNjb3BlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0TGFiZWw6IHNjb3BlLmRhdGFzZXRMYWJlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREYXRhOiBzY29wZS5jaGFydERhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFsYWJlbHM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6ICd4eScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAneHknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHNjb3BlLmNoYXJ0VHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWdlbmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHNjb3BlLmxlZ2VuZERpc3BsYXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDaGFydC5qcyBQaWUgQ2hhcnQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb29sdGlwczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFRlbXBsYXRlOiBcIjwlPSB2YWx1ZSAlPlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKGVsZW1lbnQuY29udGV4dC5pZCA9PT0gJ3Byb2ZpdGFiaWxpdHknKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY2hhcnRPcHRpb25zLnRvb2x0aXBzID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbih0b29sdGlwSXRlbSwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiAnQ2xpY2sgZm9yIG1vcmUgZGV0YWlscyc7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignY2hhcnREYXRhJywgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJ0RGF0YSA9IGNoYXJ0c1NlcnZpY2UuZ2VuZXJhdGVDaGFydERhdGEoc2NvcGUuY2hhcnREYXRhLCBzY29wZS5oQXhpc1Byb3AsIHNjb3BlLnlBeGlzUHJvcCwgSlNPTi5wYXJzZShzY29wZS5kYXRlVHlwZSksIGNoYXJ0T3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YXNldHMgPSBjaGFydERhdGEuZGF0YXNldHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZGF0YXNldHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLmNvbmNhdChkYXRhc2V0c1tpXS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXggPSBkYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqIGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLm1heCA8IGRhdGFbal0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXggPSBkYXRhW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoYXJ0T3B0aW9ucy5zY2FsZXMueUF4ZXNbMF0udGlja3MubWF4ID0gKCBzZWxmLm1heCAgKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcnQgPSBjaGFydHNTZXJ2aWNlLmRyYXdDaGFydChhdHRycy5pZCwgY2hhcnREYXRhLCBjaGFydE9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0ICYmIGNoYXJ0Lm9wdGlvbnMuZGF0YXNldExhYmVsID09PSAnUHJvZml0YWJpbGl0eSBHTSBZVEQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3R4ID0gY2hhcnQuY2hhcnQuY3R4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNhbnZhcy5vbmNsaWNrID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgYWN0aXZlUG9pbnRzID0gY2hhcnQuZ2V0RGF0YXNldEF0RXZlbnQoZXZ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlUG9pbnRzID0gY2hhcnQuZ2V0RWxlbWVudHNBdEV2ZW50KGV2dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWN0aXZlUG9pbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZW1pdCgnZGF0YXBvaW50Q2xpY2snLCBhY3RpdmVQb2ludHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQgJiYgY2hhcnQub3B0aW9ucy5kYXRhc2V0TGFiZWwgPT09ICdCZW5jaFNraWxsQmFyQ2hhcnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3R4ID0gY2hhcnQuY2hhcnQuY3R4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNhbnZhcy5vbmNsaWNrID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVBvaW50cyA9IGNoYXJ0LmdldEVsZW1lbnRzQXRFdmVudChldnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCdiZW5jaEJhckNoYXJ0Q2xpY2snLCBhY3RpdmVQb2ludHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0ICYmIGNoYXJ0Lm9wdGlvbnMuZGF0YXNldExhYmVsID09PSAnQmVuY2hTa2lsbFBpZUNoYXJ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0eCA9IGNoYXJ0LmNoYXJ0LmN0eDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5jYW52YXMub25jbGljayA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVQb2ludHMgPSBjaGFydC5nZXRFbGVtZW50c0F0RXZlbnQoZXZ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZW1pdCgnYmVuY2hQaWVDaGFydENsaWNrJywgYWN0aXZlUG9pbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0ICYmIGNoYXJ0Lm9wdGlvbnMuZGF0YXNldExhYmVsID09PSAnUHJhY3RpY2VJbnB1dEJhckNoYXJ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0eCA9IGNoYXJ0LmNoYXJ0LmN0eDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5jYW52YXMub25jbGljayA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVQb2ludHMgPSBjaGFydC5nZXRFbGVtZW50c0F0RXZlbnQoZXZ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZW1pdCgncHJhY3RpY2VCYXJDaGFydENsaWNrJywgYWN0aXZlUG9pbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hhcnRDb250cm9sbGVyKCkge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnc2FtcGxlJyk7XG4gICAgYW5ndWxhci5tb2R1bGUoJ3NhbXBsZScpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2ZpcnN0T25lJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2ZpcnN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZmlyc3QnLFxuICAgICAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpbmRleC5odG1sJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgYW5ndWxhci5tb2R1bGUoJ3NhbXBsZScpLlxuICAgIHNlcnZpY2UoJ2NoYXJ0c1NlcnZpY2UnLCBbJyRodHRwJywgJyRyb290U2NvcGUnLCAnJHdpbmRvdycsXG4gICAgICAgIGZ1bmN0aW9uKCRodHRwLCAkcm9vdFNjb3BlLCAkd2luZG93KSB7XG5cbiAgICAgICAgICAgIHZhciBDT0xPUlMgPSBbXG4gICAgICAgICAgICAgICAgJ3JnYmEoMCwgMjM0LCAyMjEsIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDIzMiwgMTQwLCAyMDksIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDE3NCwgMTQwLCAyMzIsIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDAsIDE2OSwgMTksIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDEzNywgMjA0LCAwLCAwLjUpJyxcbiAgICAgICAgICAgICAgICAncmdiYSgyMDQsIDE3NiwgMCwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoMjA2LCAxMDUsIDIzLCAwLjUpJyxcbiAgICAgICAgICAgICAgICAncmdiYSgyNTUsIDk5LCAxMzIsIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDU0LCAxNjIsIDIzNSwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoMTM2LCAyNTUsIDAsIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDE0MiwgNDgsIDE2MCwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoMCwgMjIyLCAyMjAsIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDI1NSwgMjA2LCA4NiwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoNzUsIDE5MiwgMTkyLCAwLjUpJyxcbiAgICAgICAgICAgICAgICAncmdiYSgwLCAyMzQsIDIyMSwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoMTUzLCAxMDIsIDI1NSwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoMTM5LCAxMjYsIDI1NSwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoMTQyLCA0OCwgMTYwLCAwLjUpJyxcbiAgICAgICAgICAgICAgICAncmdiYSgxOTEsIDYsIDYsIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDE1MywgMTAyLCAyNTUsIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDI1NSwgMjA2LCA4NiwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoNjUsIDE5NiwgMjU1LCAwLjUpJyxcbiAgICAgICAgICAgICAgICAncmdiYSgxMzcsIDIwNCwgMCwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoMCwgMTY5LCAxOSwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoMjU1LCAxNTksIDY0LCAwLjUpJyxcbiAgICAgICAgICAgICAgICAncmdiYSgxNDIsIDQ4LCAxNjAsIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDI1NSwgMjA2LCA4NiwgMC41KScsXG4gICAgICAgICAgICAgICAgJ3JnYmEoMCwgMjIyLCAyMjAsIDAuNSknLFxuICAgICAgICAgICAgICAgICdyZ2JhKDEzNywgMjA0LCAwLCAwLjUpJyxcbiAgICAgICAgICAgICAgICAncmdiYSgxNzQsIDE0MCwgMjMyLCAwLjUpJyxcbiAgICAgICAgICAgICAgICAncmdiYSgwLCAxNjksIDE5LCAwLjUpJyxcbiAgICAgICAgICAgICAgICAncmdiYSgxMzcsIDIwNCwgMCwgMC41KScsXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG5cbiAgICAgICAgICAgIHZtLmNoYXJ0cyA9IFtdO1xuXG5cbiAgICAgICAgICAgIHZtLmRyYXdDaGFydCA9IGZ1bmN0aW9uKGRpdklkLCBjaGFydERhdGEsIGNoYXJ0T3B0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgdmFyIERFRkFVTFRfQ0FOVkFTX0hFSUdIVCA9IDMwMDtcbiAgICAgICAgICAgICAgICB2YXIgREVGQVVMVF9DQU5WQVNfV0lEVEggPSA0MDA7XG4gICAgICAgICAgICAgICAgdmFyIERFRkFVTFRfQ0hBUlRfVFlQRSA9ICdiYXInO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNhbnZhc0hlaWdodCA9IChjaGFydE9wdGlvbnMuY2hhcnQgJiYgY2hhcnRPcHRpb25zLmNoYXJ0LmhlaWdodCkgfHwgREVGQVVMVF9DQU5WQVNfSEVJR0hUO1xuICAgICAgICAgICAgICAgIHZhciBjYW52YXNXaWR0aCA9IChjaGFydE9wdGlvbnMuY2hhcnQgJiYgY2hhcnRPcHRpb25zLmNoYXJ0LndpZHRoKSB8fCBERUZBVUxUX0NBTlZBU19XSURUSDtcbiAgICAgICAgICAgICAgICB2YXIgY2hhcnRUeXBlID0gKGNoYXJ0T3B0aW9ucy5jaGFydCAmJiBjaGFydE9wdGlvbnMuY2hhcnQudHlwZSkgfHwgREVGQVVMVF9DSEFSVF9UWVBFO1xuXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICAgICAgY3R4LmNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY3R4LmNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xuXG5cblxuICAgICAgICAgICAgICAgIC8qQ2hhcnQuZGVmYXVsdHMuZ2xvYmFsLnRvb2x0aXBzLmJhY2tncm91bmRDb2xvciA9IFwiI0VCRUJFQlwiO1xuICAgICAgICAgICAgICAgIENoYXJ0LmRlZmF1bHRzLmdsb2JhbC50b29sdGlwcy50aXRsZUZvbnRDb2xvciA9IFwiIzAwMFwiO1xuICAgICAgICAgICAgICAgIENoYXJ0LmRlZmF1bHRzLmdsb2JhbC50b29sdGlwcy5ib2R5Rm9udENvbG9yID0gXCIjMDAwXCI7Ki9cblxuXG4gICAgICAgICAgICAgICAgdmFyIGNoYXJ0ID0gbmV3IENoYXJ0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBjaGFydFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGNoYXJ0RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogY2hhcnRPcHRpb25zXG4gICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgIC8qXG5cdCAgICBcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0dmFyIGRhdGEgPSAkd2luZG93Lm15QmFyLmNoYXJ0LmNvbmZpZy5kYXRhLmRhdGFzZXRzWzBdLmRhdGE7XG5cdFx0ICAgIFx0XG5cdFx0ICAgIFx0Y3R4LmZvbnQgPSAnMjJweCBcIkhlbHZldGljYSBOZXVlXCIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYnO1xuXHRcdCAgICBcdGN0eC5maWxsU3R5bGUgPSBcIiMwMDBcIjsgICAgICAgIFxuXHRcdCAgICBcdGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiOyBcblx0XHQgICAgXHRmb3IgKHZhciBpIGluIGRhdGEpIHtcblx0XHQgICAgXHRcdGN0eC5maWxsVGV4dChkYXRhW2ldLCAyMDAsIDE4MCk7XG5cdFx0ICAgIFx0fVxuXHQgICAgXHR9LCAxMDAwKTtcblx0ICAgIFx0XG5cdCAgICBcdFxuXHQgICAgXHQqL1xuXG4gICAgICAgICAgICAgICAgdm0uY2hhcnRzLnB1c2goY2hhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGFydDtcblxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZtLmdlbmVyYXRlQ2hhcnREYXRhID0gZnVuY3Rpb24ocmF3RGF0YSwgeEF4aXNQcm9wLCB5QXhpc1Byb3AsIGRhdGVUeXBlLCBjaGFydE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgREVGQVVMVF9JU19EQVRFVFlQRSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBERUZBVUxUX0RBVEFTRVRfTEFCRUwgPSAneC1heGlzJztcblxuICAgICAgICAgICAgICAgIHZhciBpc0RhdGV0eXBlID0gZGF0ZVR5cGUgfHwgREVGQVVMVF9JU19EQVRFVFlQRTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YXNldExhYmVsID0gY2hhcnRPcHRpb25zLmRhdGFzZXRMYWJlbCB8fCBERUZBVUxUX0RBVEFTRVRfTEFCRUw7XG4gICAgICAgICAgICAgICAgLypbe1xuXHQgICAgICAgIFx0ICBkYXRlOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcblx0ICAgICAgICBcdCAgdXRpbGl6YXRpb246IDIzLjQ0LFxuXHQgICAgICAgIFx0ICBsb2NhdGlvbjogJ0FMTCdcblx0ICAgICAgICAgIH0se1xuXHQgICAgICAgIFx0ICBkYXRlOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcblx0ICAgICAgICBcdCAgdXRpbGl6YXRpb246IDIzLjQ0LFxuXHQgICAgICAgIFx0ICBsb2NhdGlvbjogJ0FMTCdcblx0ICAgICAgICAgIH0se1xuXHQgICAgICAgIFx0ICBkYXRlOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcblx0ICAgICAgICBcdCAgdXRpbGl6YXRpb246IDIzLjQ0LFxuXHQgICAgICAgIFx0ICBsb2NhdGlvbjogJ0FMTCdcblx0ICAgICAgICAgIH1dO1xuXHQgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8qe1xuXHQgICAgICAgICAgICAgIGxhYmVsczogW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCJdLFxuXHQgICAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xuXHQgICAgICAgICAgICAgICAgICBsYWJlbDogJ0RhdGFzZXQgMScsXG5cdCAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDIyMCwyMjAsMjIwLDAuNSlcIixcblx0ICAgICAgICAgICAgICAgICAgZGF0YTogWzM0LCAzNCwgNjYsIDIsIDYsIDIzLCA3XVxuXHQgICAgICAgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgICAgbGFiZWw6ICdEYXRhc2V0IDInLFxuXHQgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgxNTEsMTg3LDIwNSwwLjUpXCIsXG5cdCAgICAgICAgICAgICAgICAgIGRhdGE6IFs3LCAyOSwgOTksIDY3LCA4MywgNjYsIDk0XVxuXHQgICAgICAgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgICAgbGFiZWw6ICdEYXRhc2V0IDMnLFxuXHQgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgxNTEsMTg3LDIwNSwwLjUpXCIsXG5cdCAgICAgICAgICAgICAgICAgIGRhdGE6IFsyMywgNDQsIDU1LCA2OCwgMzQsIDUsIDJdXG5cdCAgICAgICAgICAgICAgfV1cblxuXHQgICAgICAgICAgfTsqL1xuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFzZXRzID0gW107XG5cblxuICAgICAgICAgICAgICAgIHZhciBsYWJlbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAocmF3RGF0YS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFzZXROYW1lcyA9IE9iamVjdC5rZXlzKHJhd0RhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZGF0YXNldE5hbWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmF3RGF0YXNldCA9IHJhd0RhdGFbZGF0YXNldE5hbWVzW2ldXS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmRDb2xvciA9IHJhd0RhdGFbZGF0YXNldE5hbWVzW2ldXS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsbCA9IHJhd0RhdGFbZGF0YXNldE5hbWVzW2ldXS5maWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmVDb2xvciA9IHJhd0RhdGFbZGF0YXNldE5hbWVzW2ldXS5saW5lQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YXNldExhYmVsID0gcmF3RGF0YVtkYXRhc2V0TmFtZXNbaV1dLmxhYmVsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqIGluIHJhd0RhdGFzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSByYXdEYXRhc2V0W2pdW3hBeGlzUHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBpc0RhdGV0eXBlID09IHRydWUgPyBkYXRlVG9Nb250aChuZXcgRGF0ZShsYWJlbCkpIDogbGFiZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0aWxpemF0aW9uID0gcmF3RGF0YXNldFtqXVt5QXhpc1Byb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2godXRpbGl6YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YXNldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZGF0YXNldExhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogbGluZUNvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0cy5wdXNoKGRhdGFzZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmRDb2xvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByYXdEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSByYXdEYXRhW2ldW3hBeGlzUHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGlzRGF0ZXR5cGUgPT0gdHJ1ZSA/IGRhdGVUb01vbnRoKG5ldyBEYXRlKGxhYmVsKSkgOiBsYWJlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGlsaXphdGlvbiA9IHJhd0RhdGFbaV1beUF4aXNQcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYXdEYXRhW2ldLmJhY2tncm91bmRDb2xvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcnMucHVzaChyYXdEYXRhW2ldLmJhY2tncm91bmRDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHMucHVzaChsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2godXRpbGl6YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFzZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZGF0YXNldExhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYmFja2dyb3VuZENvbG9yOiAncmdiYSgxMzIsIDIzMSwgMjIxLCAwLjgpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3JzLmxlbmd0aCA+IDAgPyBiYWNrZ3JvdW5kQ29sb3JzIDogQ09MT1JTLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRhdGFzZXRzLnB1c2goZGF0YXNldCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyp2YXIgZGF0YSA9IFtdO1xuXHQgICAgXHRmb3IgKHZhciBpIGluIHJhd0RhdGEpIHtcblx0ICAgIFx0XHR2YXIgbGFiZWwgPSByYXdEYXRhW2ldW3hBeGlzUHJvcF07XG5cdCAgICBcdFx0bGFiZWwgPSBpc0RhdGV0eXBlID09IHRydWUgPyBkYXRlVG9Nb250aChuZXcgRGF0ZShsYWJlbCkpIDogbGFiZWw7XG5cdCAgICBcdFx0dmFyIHV0aWxpemF0aW9uID0gcmF3RGF0YVtpXVt5QXhpc1Byb3BdO1xuXHQgICAgXHRcdGxhYmVscy5wdXNoKGxhYmVsKTtcblx0ICAgIFx0XHRkYXRhLnB1c2godXRpbGl6YXRpb24pO1xuXHQgICAgXHR9XG5cdCAgICBcdFxuXHQgICAgXHR2YXIgZGF0YXNldCA9IHtcblx0XHRcdFx0bGFiZWw6ICdVdGlsaXphdGlvbicsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG4gICBcdFx0XHQgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoOCwgMjA2LCAxODUsIDAuNSlcIlxuXHRcdFx0fVxuXHRcdFx0ZGF0YXNldHMucHVzaChkYXRhc2V0KTsqL1xuXG4gICAgICAgICAgICAgICAgdmFyIHRydW5jYXRlZExhYmVscyA9IGxhYmVscztcbiAgICAgICAgICAgICAgICAvKmlmIChsYWJlbHMubGVuZ3RoID4gMTUpIHtcblx0ICAgIFx0XHR0cnVuY2F0ZWRMYWJlbHMgPSBbXTtcblx0ICAgIFx0XHRmb3IgKHZhciBpIGluIGxhYmVscykge1xuXHQgICAgXHRcdFx0dmFyIGZpbmFsU3RyID0gdHJ1bmNhdGVTdHJpbmcobGFiZWxzW2ldLCA2KTtcblx0ICAgIFx0XHRcdGlmIChsYWJlbHNbaV0ubGVuZ3RoID4gNikgXG5cdCAgICBcdFx0XHRcdGZpbmFsU3RyID0gZmluYWxTdHIgKyAnLi4nO1xuXHQgICAgXHRcdFx0XG5cdFx0ICAgIFx0XHR0cnVuY2F0ZWRMYWJlbHMucHVzaChmaW5hbFN0cik7XG5cdFx0ICAgIFx0fVxuXHQgICAgXHR9XG5cdCAgICBcdCovXG5cbiAgICAgICAgICAgICAgICB2YXIgY2hhcnREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbHM6ICQudW5pcXVlKHRydW5jYXRlZExhYmVscyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGFzZXRzOiBkYXRhc2V0c1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFydERhdGE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlcihsYWJlbCkge1xuICAgICAgICAgICAgICAgIHZhciBmaW5hbExhYmVsID0gbGFiZWwuc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBsYWJlbC5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmFsTGFiZWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRydW5jYXRlU3RyaW5nKGxhYmVsLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWwuc3Vic3RyKDAsIGxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGN1c3RvbWl6ZVRvb2x0aXAoY2hhcnREYXRhKSB7XG5cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmdW5jdGlvbiBkYXRlVG9Nb250aChkYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIE1PTlRIUyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcbiAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBNT05USFNbZGF0ZS5nZXRNb250aCgpXTtcbiAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBtb250aCArICcgJyArIHllYXI7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9XG4gICAgXSk7XG59KSgpO1xuIiwiYW5ndWxhci5tb2R1bGUoXCJzYW1wbGVcIilcclxuICAgIC5mYWN0b3J5KFwiY3JlYXRlQ2hhcnRTZXJ2aWNlXCIsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xyXG5cclxuICAgICAgICB2YXIgY2hhcnREYXRhID0ge307XHJcbiAgICAgICAgY2hhcnREYXRhLmdldENoYXJ0RGF0YSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdqc29uL2RhdGEuanNvbicpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY2hhcnREYXRhLmdldENoYXJ0RGF0YU9wdGlvbjIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnanNvbi9kYXRhT3B0aW9uMi5qc29uJylcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhcnREYXRhLmdldFBpZUNoYXJ0RGF0YSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdqc29uL2RhdGFGb3JQaWUuanNvbicpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY2hhcnREYXRhLmdldFBpZUNoYXJ0RGF0YU9wdGlvbjIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnanNvbi9kYXRhRm9yUGllT3B0aW9uMi5qc29uJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gY2hhcnREYXRhO1xyXG4gICAgfV0pO1xyXG4iXX0=
